{"version":3,"sources":["components/ImageGallery/ImageGalleryItem.module.css","components/ImageGallery/ImageGallery.module.css","components/Modal/Modal.module.css","components/Button/Button.module.css","components/ImageGallery/ImageGalleryItem.js","services/api.js","components/Modal/Modal.js","components/Button/Button.js","components/ImageGallery/ImageGallery.js","components/Searchbar/Searchbar.js","App.js","index.js","components/Searchbar/Searchbar.module.css"],"names":["module","exports","ImageGalleryItem","handleImageClick","event","id","currentTarget","props","onOpen","this","images","map","image","className","styles","gallery_item","onClick","src","webformatURL","alt","tags","item_image","Component","api","fetchImage","searchName","page","fetch","then","response","ok","json","Promise","reject","Error","modalRoot","document","querySelector","Modal","handleKeyDown","e","code","onClose","handleOverlayClick","target","window","addEventListener","onOpenModal","removeEventListener","createPortal","Overlay","children","Button","title","onClickLoad","type","button","ImageGallery","state","imageElem","showModal","imageModal","toggleModal","setState","openModal","imageId","find","toString","largeImageURL","handleLoad","prevState","prevProps","prevName","nextName","pageNumber","prevPage","imageApi","hits","catch","error","console","log","loading","gallery","modal_image","SearcBar","handleClick","value","toLowerCase","handleSubmite","preventDefault","trim","onSubmit","reset","toast","searchbar","searchForm","form_button","button_label","button_input","autoComplete","autoFocus","placeholder","onChange","App","handleFormSubmit","autoClose","color","height","width","timeout","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.d5bc9f57.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"gallery-item\":\"ImageGalleryItem_gallery-item__tvaJm\",\"item_image\":\"ImageGalleryItem_item_image__2Jfj2\",\"item-image\":\"ImageGalleryItem_item-image__2VZrS\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"gallery\":\"ImageGallery_gallery__3H0j1\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__2EOjM\",\"Modal\":\"Modal_Modal__qnk6R\",\"modal_image\":\"Modal_modal_image__2Sxsd\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"Button_button__mecpW\"};","import React, { Component } from \"react\";\nimport styles from \"./ImageGalleryItem.module.css\";\n\nexport default class ImageGalleryItem extends Component {\n  handleImageClick = (event) => {\n    const id = event.currentTarget.id;\n    this.props.onOpen(id);\n  };\n\n  render() {\n    return (\n      <>\n        {this.props.images.map((image) => {\n          return (\n            <li\n              key={image.id}\n              id={image.id}\n              className={styles.gallery_item}\n              onClick={this.handleImageClick}\n            >\n              <img\n                src={image.webformatURL}\n                alt={image.tags}\n                className={styles.item_image}\n              />\n            </li>\n          );\n        })}\n      </>\n    );\n  }\n}\n","const API_KEY = \"23526463-69d460dc9366e545ff49935bb\";\n\nfunction fetchImage(searchName, page) {\n  return fetch(\n    `https://pixabay.com/api/?q=${searchName}&page=${page}&key=${API_KEY}&image_type=photo&orientation=horizontal&per_page=12`\n  ).then((response) => {\n    if (response.ok) {\n      return response.json();\n    }\n\n    return Promise.reject(new Error(`Нет изображения с именем ${searchName}`));\n  });\n}\n\nconst api = {\n  fetchImage,\n};\n\nexport default api;\n","import React, { Component } from \"react\";\nimport { createPortal } from \"react-dom\";\nimport styles from \"./Modal.module.css\";\nconst modalRoot = document.querySelector(\"#modal-root\");\n\nexport default class Modal extends Component {\n  componentDidMount() {\n    window.addEventListener(\"keydown\", this.handleKeyDown);\n  }\n\n  componentDidUpdate() {\n    this.props.onOpenModal();\n  }\n  componentWillUnmount() {\n    window.removeEventListener(\"keydown\", this.handleKeyDown);\n  }\n\n  handleKeyDown = (e) => {\n    if (e.code === \"Escape\") {\n      this.props.onClose();\n    }\n  };\n\n  handleOverlayClick = (event) => {\n    if (event.target === event.currentTarget) {\n      this.props.onClose();\n    }\n  };\n\n  render() {\n    return createPortal(\n      <>\n        <div className={styles.Overlay} onClick={this.handleOverlayClick}>\n          <div className={styles.Modal}>{this.props.children}</div>\n        </div>\n      </>,\n      modalRoot\n    );\n  }\n}\n","import React from \"react\";\nimport styles from \"./Button.module.css\";\n\nconst Button = ({ title, onClickLoad }) => {\n  return (\n    <>\n      <button type=\"button\" className={styles.button} onClick={onClickLoad}>\n        {title}\n      </button>\n    </>\n  );\n};\nexport default Button;\n","import React, { Component } from \"react\";\nimport ImageGalleryItem from \"./ImageGalleryItem\";\nimport styles from \"./ImageGallery.module.css\";\nimport imageApi from \"../../services/api\";\nimport Modal from \"../Modal/Modal\";\nimport Button from \"../Button/Button\";\n\nclass ImageGallery extends Component {\n  state = {\n    imageElem: null,\n    showModal: false,\n    imageModal: null,\n    page: 1,\n  };\n  \n  componentDidUpdate(prevProps, prevState) {\n    const prevName = prevProps.searchName;\n    const nextName = this.props.searchName;\n    const pageNumber = this.state.page;\n    const prevPage = prevState.page;\n\n    if (prevName !== nextName || prevPage !== pageNumber) {\n      imageApi\n        .fetchImage(nextName, pageNumber)\n        .then((imageElem) => this.setState({ imageElem: imageElem.hits }))\n        .catch((error) => console.log(error));\n    }\n  }\n\n  toggleModal = () => {\n    this.setState((state) => ({ showModal: !state.showModal }));\n  };\n\n  openModal = (imageId) => {\n    const imageModal = this.state.imageElem.find((image) => {\n      return image.id.toString() === imageId;\n    });\n\n    this.setState((state) => ({\n      showModal: !state.showModal,\n      imageModal: imageModal.largeImageURL,\n    }));\n  };\n\n  handleLoad = () => {\n    this.setState((prevState) => {\n      return { page: prevState.page + 1 };\n    });\n  };\n\n  render() {\n    const { imageElem, showModal, imageModal, loading } = this.state;\n    return (\n      <>\n        <ul className={styles.gallery}>\n          {imageElem && (\n            <ImageGalleryItem images={imageElem} onOpen={this.openModal} />\n          )}\n        </ul>\n        {showModal && (\n          <Modal onClose={this.toggleModal}>\n            <img\n              src={imageModal}\n              alt={imageElem.tags}\n              className={styles.modal_image}\n            ></img>\n          </Modal>\n        )}\n        {imageElem && (\n          <Button onClickLoad={this.handleLoad} title={\"Load more\"} />\n        )}\n      </>\n    );\n  }\n}\n\nexport { ImageGallery };\n","import React, { Component } from \"react\";\nimport styles from \"./Searchbar.module.css\";\nimport { toast } from \"react-toastify\";\n\nexport default class SearcBar extends Component {\n  state = {\n    searchName: \"\",\n  };\n\n  handleClick = (event) => {\n    const value = event.currentTarget.value.toLowerCase();\n    this.setState(() => {\n      return { searchName: value };\n    });\n  };\n\n  handleSubmite = (e) => {\n    e.preventDefault();\n\n    if (this.state.searchName.trim() === \"\") {\n      toast(\"Input name for search images\");\n      return;\n    }\n\n    this.props.onSubmit(this.state.searchName);\n    this.reset();\n  };\n\n  reset = () => {\n    this.setState({ searchName: \"\" });\n  };\n\n  render() {\n    return (\n      <header className={styles.searchbar}>\n        <form className={styles.searchForm} onSubmit={this.handleSubmite}>\n          <button type=\"submit\" className={styles.form_button}>\n            <span className={styles.button_label}>Search</span>\n          </button>\n\n          <input\n            className={styles.button_input}\n            type=\"text\"\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search images and photos\"\n            value={this.state.searchName}\n            onChange={this.handleClick}\n          />\n        </form>\n      </header>\n    );\n  }\n}\n","import \"./App.css\";\nimport React, { Component } from \"react\";\nimport { ImageGallery } from \"./components/ImageGallery/ImageGallery\";\nimport SearcBar from \"./components/Searchbar/Searchbar\";\nimport { ToastContainer } from \"react-toastify\";\nimport Loader from \"react-loader-spinner\";\n\nclass App extends Component {\n  state = {\n    searchName: \"\",\n    loading : false,\n  };\n\n  handleFormSubmit = (searchName) => {\n    this.setState({ searchName, loading : true});\n  };\n\n  render() {\n    const { searchName, loading } = this.state;\n    return (\n      <div className=\"App\">\n        <ToastContainer autoClose={3000} />\n        <SearcBar onSubmit={this.handleFormSubmit} />\n        <ImageGallery searchName={searchName} />\n        {loading && <Loader\n          type=\"ThreeDots\"\n          color=\"#00BFFF\"\n          height={80}\n          width={80}\n          timeout={2000}\n        />}\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"searchForm\":\"Searchbar_searchForm__2lXxx\",\"form_button\":\"Searchbar_form_button__2rM5i\",\"button_label\":\"Searchbar_button_label__3HV99\",\"button_input\":\"Searchbar_button_input__1AAIg\"};"],"sourceRoot":""}